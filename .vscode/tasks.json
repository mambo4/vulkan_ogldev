{
    "tasks": [
        {
            "type": "cppbuild",
            "label": "C/C++: cl.exe build active file",
            "command": "cl.exe",
            "args": [
                "/MD",
                "/Zi",
                "/EHsc",
                "/nologo",
                "/I${workspaceFolder}/lib/GLFW",
                "/I${workspaceFolder}/lib/glm",
                "/I${workspaceFolder}/lib/tinyobjloader",
                "/I${workspaceFolder}/lib/stb",
                "/I${workspaceFolder}/src/systems",
                "/I${workspaceFolder}/src",
                "/I${env:VULKAN_SDK}/Include",
                "/Fe${workspaceFolder}/bin/main.exe",
                "/Fd${workspaceFolder}/build/",
                "/Fo${workspaceFolder}/build/",
                // "src/systems/*.cpp",
                "src/*.cpp",
                "/std:c++latest",
                "/link",
                "/LIBPATH:C:/VulkanSDK/1.4.335.0/Lib",
                "/LIBPATH:C:/vulkan_ogldev/lib/GLFW",
                "/LIBPATH:C:/vulkan_ogldev/lib/tinyobjloader",
                "/LIBPATH:C:/vulkan_ogldev/lib/stb",
                "glfw3_mt.lib",
                "vulkan-1.lib",
                "glslang.lib",
                "user32.lib",
                "gdi32.lib",
                "shell32.lib",
                "SPIRV.lib",
                "SPIRV-Tools.lib",
                "SPIRV-Tools-diff.lib",
                "SPIRV-Tools-opt.lib",
                "glslang.lib",
                "OSDependent.lib",
                "GenericCodeGen.lib",
                "MachineIndependent.lib",
                "glslang-default-resource-limits.lib",
                ">", // This redirects both standard output and standard error
                "${workspaceFolder}/build_output.log" 
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": [
                "$msCompile"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger.",
            "dependsOn": [
                "clean build files",
                //"compile shaders",
                "print vulkan dir"
            ],
        },
        {
            "label": "print vulkan dir",
            "type": "shell",
            "command": "echo ${env:VULKAN_SDK}:echo ${env:VULKAN_SDK}/Lib",
            "problemMatcher": []
        },
        {
            "label": "clean build files",
            "type": "shell",
            "command": "${workspaceFolder}/clean.bat",
            "problemMatcher": []
        },
        {
            "label": "compile shaders",
            "type": "shell",
            "command": "${workspaceFolder}/shaders.bat",
            "problemMatcher": []
        }
    ],
    "version": "2.0.0"
}